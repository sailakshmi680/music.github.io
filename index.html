<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Music player</title>
	 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">

</head>
<style type="text/css">
	*{
		margin:0px;
		padding:0px;
		box-sizing: border-box;
	}
	/*class to animate*/
	.animate{
		animation: rotatePlayer 3s linear infinite;
	}
	@keyframes rotatePlayer {
		from {transform: rotate(0deg);}
		to {transform: rotate(360deg);}
	} 
</style>
<body>
	<div class="container my-5 mx-auto">
		<div class="card" style="width: 18rem;box-shadow: 5px 5px 5px 5px gray;height:480px;margin:auto;">
			 <h5 class="card-title text-center my-5" id ="title" style="text-transform: uppercase;text-shadow: 0 0.3rem 0.3rem gray;font-size: 1.5rem;letter-spacing: 0.2rem">Card title</h5>
		    	<!-- <h6 class="card-text text-center">Some text</h6> -->
		  		 <img src="images/music1.jpg" class="card-img-top mx-auto" alt="..." style="width:150px;height:150px;object-fit:cover;border-radius: 100%;filter: drop-shadow(0 1.2rem 3rem 0.5rem gray);">

		  		<audio src="audio/music1.mp3"></audio>
  
		  		<!-- controls -->

 	  		    <div class="music_controls text-center my-5" style="width:10rem;display: flex;justify-content: space-between;margin:auto;align-items: center;">
		  			<i class="fas fa-backward" id="prev" title="previous"></i>
		  			<i class="fas fa-play btn" id="play" title="play" style="width:2rem;height:2rem;justify-content: center;align-items: center;display: flex;color:white;background-color: black;border-radius: 50%;"></i>
		  			<i class="fas fa-forward" id="next" title="Next"></i>
		  		</div>

			 <!--  <div class="card-body text-center">
			    <a href="#" class="btn btn-primary">Delete</a>
			 </div> -->
		</div>
   </div>

   <script type="text/javascript">
   	const music = document.querySelector('audio');
   	const play = document.getElementById('play');
   	const pause = document.getElementById('pause');
   	const img = document.querySelector('img');
   	const title = document.getElementById('title');
   	const prev = document.getElementById('prev');
   	const next = document.getElementById('next');

   	const songs = [
	   	{
	   		name:'music1',
	   		title : 'Lotus Lane',
	   		artist : 'kalyan',
	   		imgName:'music1'
	   	},
	   	{
	   		name:'playdate',
	   		title : 'Jasmine',
	   		artist : 'gopal',
	   		imgName:'music2'

	   	},
	   	{
	   		name:'song2',
	   		title : 'Lilly',
	   		artist : 'kalyan',
	   		imgName:'music3'

	   	}
   	];

   	let isPlaying = false;

   	// for play function
   	const playMusic = () => {
   		isPlaying = true
   		music.play();
   		play.classList.replace("fa-play","fa-pause");
   		img.classList.add('animate');
   	};

   	// for pause function
   	const pauseMusic = () => {
   		isPlaying = false;
   		music.pause();
   		play.classList.replace("fa-pause","fa-play");
   		img.classList.remove('animate');

   	 };

   	play.addEventListener('click',() => {
   		// if(isPlaying){
   		// 	pauseMusic();
   		// }
   		// else{
   		// 	playMusic();
   		// }
   		isPlaying ? pauseMusic() : playMusic();
   	});

   	// changing the music data

   	const loadSongs = (songs) => {
   		title.textContent = songs.title;
      	// artist.textContent = songs.artist;
   		music.src = `audio/${songs.name}.mp3`;
   		 // console.log(music.src);

   		img.src =`images/${songs.imgName}.jpg`;
   		// console.log(img.src);

   	};

   	// loadSongs(songs[0]);
   	songIndex = 0;
   	const nextsong = () => {
   		songIndex = (songIndex + 1) % songs.length;
   		loadSongs(songs[songIndex]);
   		playMusic();
   	}
   	const prevSong = () => {
   		songIndex = (songIndex - 1 + songs.length) % songs.length;
   					// 0-1+3%3 = -1 
   		loadSongs(songs[songIndex]);
   		playMusic();
   	}


   	next.addEventListener('click',nextsong);
   	prev.addEventListener('click',prevSong);
   </script>



<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
</body>
</html>